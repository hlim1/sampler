from utils import instantiate

Import('env')

common = env.Dir('#launcher/common')
config = common.File('SamplerConfig.py')

def testPythons(env, pythons):
    env = env.Copy()
    env.AppendUnique(ENV={'PYTHONPATH': common.abspath})
    sources = pythons + [config]
    target = 'pychecker.passed'
    test = env.TestPython(target=target, source=sources)
    Alias('test', test)

Alias('test', env.TestXML(['sampler.schemas', 'gconf-1.0.dtd']))
SConscript(dirs=['common', 'first-time', 'monitor', 'preferences', 'tray', 'wrapper'],
           exports=['testPythons'])
