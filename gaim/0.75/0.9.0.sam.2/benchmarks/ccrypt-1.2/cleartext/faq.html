<html>

<!---



NOTE: DO NOT EDIT THIS FILE!



unless you really know what you are doing.

The FAQ is generated from faq.xml and faqtemplate.html.  

You may be looking at the generated copy, which will be overwritten.



QSF



--->



<head>

   <meta name="keywords" content="VNC, AT&T Laboratories Cambridge, Virtual Network Computing, thin-client, FAQ">

<style>

<!--

DT {margin-top: 12pt; margin-bottom: 2pt; 

    font-family: arial, helvetica, sans-serif}

DD {margin-top: 2pt; margin-bottom: 6pt}

DD P {margin-top: 0pt; margin-bottom: 4pt}

-->

</style>

<title>

VNC Frequently Asked Questions (FAQ)

</title>

<link REL="stylesheet" HREF="styles.css" TYPE="text/css">

</head>

<body bgcolor="#FFFFFF" vlink="#000080" marginheight="0" topmargin="0" leftmargin="0" marginwidth="0">

<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" >

<tr>

<td ALIGN=CENTER VALIGN=TOP WIDTH="125" BGCOLOR="#EECC80">

<center><a href="index.html"><img SRC="sidelogo.gif" ALT="VNC logo" BORDER=0 height=113 width=120></a></center>

</td>



<td VALIGN=TOP WIDTH="20"><img SRC="spacer.gif" HSPACE=8 height=1 width=1></td>



<td>

<table BORDER=0 WIDTH="100%" >

<tr>

<td WIDTH="90%" valign="center">

<center>

<h1>

<IMG SRC="vnctitle.gif"  WIDTH=370 HEIGHT=30 ALT="Virtual Network Computing"></h1></center>

</td>



<td WIDTH="10%"><a href="http://www.uk.research.att.com/"><img SRC="attlogo.gif" ALT="AT&T" BORDER=0 height=75 width=66 align=RIGHT></a></td>

</tr>

</table>

</td>



<td WIDTH="5%"></td>

</tr>

<tr><td colspan=5 bgcolor="#eecc80"><img src="spacer.gif" height=3 vspace=0 hspace=1></td></tr>

<tr><td bgcolor="#eecc80"><img src="spacer.gif" height=4 vspace=0 hspace=1></td><td colspan=4></td></tr>

<tr>

<td ALIGN=CENTER VALIGN=TOP WIDTH="125" BGCOLOR="#EECC80">

<center>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" ><tr><td><a href="index.html"><img SRC="homebutton.gif" ALT="[Home]" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="screenshots.html"><img SRC="screenbutton.gif" ALT="[screenshots]" BORDER=0 height=33 width=120></a>



</td></tr><tr><td><a href="start.html"><img SRC="startbutton.gif" ALT="[getting started]" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="docs.html"><img SRC="docbutton.gif" ALT="[documentation]" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="faq.html"><img SRC="faqbutton.gif" ALT="FAQs" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="download.html"><img SRC="downloadbutton.gif" ALT="[download]" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="intouch.html"><img SRC="intouchbutton.gif" ALT="[keep in touch]" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="contribs.html"><img SRC="contribbutton.gif" ALT="Others' ports and add-ons etc" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="help.html"><img SRC="helpbutton.gif" ALT="Project ideas" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="vncpeople.html"><img SRC="vncpeoplebutton.gif" ALT="VNC people" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="http://www.uk.research.att.com/search.html"><img SRC="searchbutton.gif" ALT="Search" BORDER=0 height=33 width=120></a>

</td></tr><tr><td><a href="http://www.uk.research.att.com/"><img SRC="attbutton.gif" ALT="[AT&T Laboratories Cambridge]" BORDER=0 height=33 width=120></a></td></tr></table></center>

</td>



<td VALIGN=TOP WIDTH="8%"></td>

<td VALIGN=TOP WIDTH="100%">

<H1>VNC Frequently Asked Questions (FAQ)</H1>



This isn't intended to be an introduction to VNC - have a look at the <a href="start.html">Getting

Started</a> page first.

<p>This list is being updated regularly, so, particularly if you are reading

a local or mirrored copy, it's worth checking <a href="http://www.uk.research.att.com/vnc/faq.html">the

original</a> from time to time.  The <a href="http://www.uk.research.att.com/vnc/archives/">archives</a>

of the <a href="intouch.html">mailing list</a> are also available, and

they can be a good source of help - try searching them <a href="http://www.uk.research.att.com/search.html">here</a>.</p>



<H2>Getting Started</H2><FONT SIZE="-1"><A HREF="#q1">1. 
Where can I get VNC?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q2">2. 
I thought this was something to do with ORL? What's the Olivetti/Oracle
link here?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q3">3. 
I downloaded the .EXE files and they don't work!</A></FONT><BR><FONT SIZE="-1"><A HREF="#q4">4. I ran SETUP.EXE but it didn't work/nothing happens.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q5">5. 
I ran WinVNC, but nothing seemed to happen. I don't see an icon on my taskbar.
</A></FONT><BR><FONT SIZE="-1"><A HREF="#q6">6. WinVNC causes a 'Blue Screen of Death' on NT!</A></FONT><BR><FONT SIZE="-1"><A HREF="#q7">7. I get an error message about 'disabling Nagle's algorithm'. 
What does it mean?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q8">8. How do I set up a Windows 95/98 machine so that I can dial
into it directly and view it using VNC?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q9">9. 
I ran the Unix vncserver program and got a 'No such file or directory'
message.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q10">10. 
I ran the vncserver program and got a 'Number found where operator
expected', 'prototype mismatch' or 'out of memory' message.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q11">11. 
I started the X server using vncserver, but it dies with a message "Could
not open default font 'fixed'. "</A></FONT><BR><FONT SIZE="-1"><A HREF="#q12">12. I get errors like "failed to bind listener" and "Failed to establish
all listening sockets" in the log file.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q13">13. Vncserver seems to be dying quietly without putting any messages in
the log file.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q14">14. 
My Solaris/HP-UX Xvnc dies with a core dump!</A></FONT><BR><FONT SIZE="-1"><A HREF="#q15">15. 
 I connected to my Unix VNC server and I just see a grey desktop with
a cursor.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q16">16. 
The log file is showing an error message from xrdb / Xlib.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q17">17. 
The Java client doesn't work in my browser.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q18">18. The Windows viewer dies as soon as it starts, or gives an
error message (invalid page fault) immediately, before I've even typed in a server
name!</A></FONT><BR><FONT SIZE="-1"><A HREF="#q19">19. 
My viewer failed to connect to my server!
</A></FONT><BR><H2>Running the programs</H2><FONT SIZE="-1"><A HREF="#q20">20. My X VNC server is working, but I don't see my normal environment. How can I change the Window manager etc?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q21">21. 
Why can I only run vncserver/Xvnc as root?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q22">22. 
Can I remote the normal X display of my workstation (display :0) in
the same way as the Windows server does?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q23">23. 
What X Visual does Xvnc use?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q24">24. 
Can I cut and paste between the viewer and the server?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q25">25. 
There's a memory leak in Xvnc!</A></FONT><BR><FONT SIZE="-1"><A HREF="#q26">26. 
Can I run the Windows server before anybody has logged in? </A></FONT><BR><FONT SIZE="-1"><A HREF="#q27">27. 
Why doesn't Ctrl-Alt-Del work? Why can't I unlock my NT workstation remotely? Why can't I stop the screensaver remotely?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q28">28. When I connect using VNC and then log into my Windows
machine, I get disconnected and have to reconnect!</A></FONT><BR><FONT SIZE="-1"><A HREF="#q29">29. Can I arrange for the local physical screen, keyboard & mouse on my WinVNC server to be disabled when I'm accessing it remotely?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q30">30. 
I have troubles sending Ctrl-Alt-Del to a Windows server.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q31">31. I can't make it work on Windows 2000</A></FONT><BR><FONT SIZE="-1"><A HREF="#q32">32. The dead keys don't work on my keyboard</A></FONT><BR><FONT SIZE="-1"><A HREF="#q33">33. 
When I start a DOS window, it doesn't display at the remote
end.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q34">34. I can't type into a DOS window or any DOS apps</A></FONT><BR><FONT SIZE="-1"><A HREF="#q35">35. The keyboard doesn't work / keys do strange things!</A></FONT><BR><FONT SIZE="-1"><A HREF="#q36">36. Most of my Windows apps work fine remotely, but this one
doesn't update its window...</A></FONT><BR><FONT SIZE="-1"><A HREF="#q37">37. WinVNC is putting a huge load on my PC!</A></FONT><BR><FONT SIZE="-1"><A HREF="#q38">38. WinVNC dies, or causes other applications to die, after a
short time when a viewer is connected.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q39">39. My remote Windows display is appearing in a very garbled
form.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q40">40. 
I have problems with double-clicks in Windows.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q41">41. 
I'm installing WinVNC as a service on lots of machines, and I get prompted
for the password on each one.  Can I do this non-interactively?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q42">42. I only have a two-button Windows mouse, and I really need
three buttons for X...</A></FONT><BR><FONT SIZE="-1"><A HREF="#q43">43. I have a three-button Windows mouse, but the middle button doesn't
work.</A></FONT><BR><FONT SIZE="-1"><A HREF="#q44">44. My machine doesn't have a DNS entry or static IP address!
What address should other people use to connect to my WinVNC
server?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q45">45. Can I get rid of the taskbar icon created by WinVNC?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q46">46. 
Can I set up WinVNC to use my Windows NT password for authentication?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q47">47. 
 Can I make the Macintosh server start automatically when the machine
boots up?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q48">48. 
When I try to set a new password for my Mac server, I hit CHANGE on
the web page, but nothing happens. It is trying to bring up the settings.html
page, but fails.</A></FONT><BR><H2>General Questions</H2><FONT SIZE="-1"><A HREF="#q49">49. 
How do I make VNC go faster?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q50">50. Will VNC work through a firewall?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q51">51. 
Which TCP/IP ports does VNC use?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q52">52. Can I run VNC over a port normally used for a standard service? (eg. port 21, or port 80)</A></FONT><BR><FONT SIZE="-1"><A HREF="#q53">53. 
How secure is VNC?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q54">54. Are you going to make it more secure?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q55">55. Could you do file transfer (e.g. by drag & drop) between the two ends?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q56">56. Are you planning support for AIX, EPOC,HP-UX, SGI, Win 3.1,
or my favourite platform ?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q57">57. 
Would things work better if you compressed the stream?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q58">58. 
Have you thought about caching bits of the screen at the viewer end?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q59">59. 
Can I use VNC over a modem without using TCP/IP?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q60">60. 
Does VNC have any Y2K (Year 2000) bugs?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q61">61. 
How can I install WinVNC on multiple machines?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q62">62. 
Can I connect multiple users to the same Windows server, and have them
each see their own desktop, as with WinFrame, NTrigue, WTS, etc?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q63">63. 
Any other tips?</A></FONT><BR><FONT SIZE="-1"><A HREF="#q64">64. 
You misspelled 'organization' on the download page!</A></FONT><BR><H2>Compiling the source</H2><FONT SIZE="-1"><A HREF="#q65">65. 
I'm trying to compile WinVNC and the compiler complains about various
missing files!</A></FONT><BR><FONT SIZE="-1"><A HREF="#q66">66. 
I'm having trouble compiling VNC on my platform...</A></FONT><BR>


<H1>VNC Frequently Asked Questions</H1>



<H2>Getting Started</H2><DL>



<!-- --------------------------------- -->

<DT><A NAME="q1">Q1</A> <B>
Where can I get VNC?</B></DT>

<DD>
The latest versions of VNC and this documentation are
always available from the AT&T Labs Cambridge web site at 
<a href="http://www.uk.research.att.com/vnc">http://www.uk.research.att.com/vnc</a>.
In addition, various add-ons, extras, and ports to other platforms can
be found on the <a href="contribs.html">contribs</a> page.
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q2">Q2</A> <B>
I thought this was something to do with ORL? What's the Olivetti/Oracle
link here?</B></DT>

<DD>In January 1999, <a href="http://www.att.com/">AT&T</a>
acquired ORL, the Olivetti Research Laboratory founded 12 years earlier,
and recently jointly funded by <a href="http://www.oracle.com">Oracle</a>,
to create AT&T Laboratories Cambridge. </DD>




<!-- --------------------------------- -->

<DT><A NAME="q3">Q3</A> <B>
I downloaded the .EXE files and they don't work!</B></DT>

<DD>Netscape used to have a nasty habit of sticking a
.EXE extension on a file when it thinks it knows what type it is. 
When you fill in the download form you specify the type of compression
you would like to use, and this does <i>not </i>include .EXE, so if the
thing you downloaded has that extension, change it to whatever you requested
(usually .tgz) and then unpack the files using an appropriate decoder.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q4">Q4</A> <B>I ran SETUP.EXE but it didn't work/nothing happens.</B></DT>

<DD>Setup often doesn't work if you're running it from a network
drive.  Try copying it to a local drive first. If you're on NT, make
sure you have NT service pack 3 or later installed.  It appears that
the InstallShield system we use won't work without it.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q5">Q5</A> <B>
I ran WinVNC, but nothing seemed to happen. I don't see an icon on my taskbar.
</B></DT>

<DD>If you are using a version earlier than 3.3.3, we suggest you
upgrade. If you are using 3.3.3 or later, this is because WinVNC
doesn't know that somebody is logged in. On Win95, this will happen if
you bypass the 'password' prompt at login. If you do this often, you might want to consider setting an empty Windows password, so you don't get prompted!<br></br> If you're running WinVNC
as a service, it may be that the service has not been contacted by the
'Service Helper' when you logged in, to tell it who you are. 
(See the <a href="winvnc.html">WinVNC docs</a> for more details.) 
You can try running the Service Helper from the Start Menu to see if this is the problem.
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q6">Q6</A> <B>WinVNC causes a 'Blue Screen of Death' on NT!</B></DT>

<DD>Again, make sure you have Service Pack 3 or later.  
If this happens it is usually due to bugs in Service Pack 1.  Also
note the Service Packs' warning that if you add or change components on
your system you should reapply the service pack. If this doesn't fix it,
check for updates to your network and graphics drivers. VNC makes very
extensive use of both your video system and your network, and has a tendency
to find any bugs in either of them! There may well be bugs in WinVNC, but
we know of people running it on thousands of machines without problems,
so please check other parts of your system before assuming it's directly
a WinVNC problem.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q7">Q7</A> <B>I get an error message about 'disabling Nagle's algorithm'. 
What does it mean?</B></DT>

<DD>Nagle's algorithm is an optimisation which is used most of the
time on socket connections. Under certain circumstances it batches up
lots of small transmissions into bigger ones, to make better use of
the bandwidth.  VNC relies on small transmissions (like mouse
movements) getting through quickly, so we turn it off using the
TCP_NODELAY option.  If this causes an error, it is a problem with
your TCP/IP stack. In particular, Microsoft have broken this with NT
service pack 6, 
but we hear that the hotfix mentioned in KB article <a href="http://support.microsoft.com/support/kb/articles/Q245/6/78.asp">Q245678</a> will fix it. 
If this doesn't work, you could try the security patch mentioned at
<a href="http://www.microsoft.com/technet/security/bulletin/ms99-046.asp">
http://www.microsoft.com/technet/security/bulletin/ms99-046.asp</a>. We've heard that this fixes it as well, though this may just be a fix for an incomplete SP6a.
In a future version of VNC we will pop this up as a warning
without making it fatal.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q8">Q8</A> <B>How do I set up a Windows 95/98 machine so that I can dial
into it directly and view it using VNC?</B></DT>

<DD>You need to install your modem from the control panel
if you haven't already, and you need to set up the dialup networking server
on your server machine.  (This is included with Win98 and NT4. On
Win95 it is in the Plus! pack, but you need to get an update to version
1.3 or later from Microsoft's site. At the time of writing it can be found
<a href="http://www.microsoft.com/ntserver/nts/downloads/recommended/dun13win95/default.asp">here</a>.)
You can enable the dialup server from the 'Connections' menu of the dial-up
networking window. If it isn't there, or if you've updated the dialup networking
as mentioned above, you need to install it using the Windows Setup section
of 'Add/Remove Programs' in the control panel. When it's running and you've
dialled in, the server machine should have an IP address something like
192.168.55.1 as seen from the viewer - you can find this out by hovering
over the VNC server icon, using 'netstat -r', or running winipcfg. You
should then be able to connect to, for example, 192.168.55.1:0. </DD>




<!-- --------------------------------- -->

<DT><A NAME="q9">Q9</A> <B>
I ran the Unix vncserver program and got a 'No such file or directory'
message.</B></DT>

<DD>Vncserver is a Perl script and so the first line has
to point to the place where Perl is installed. On Linux this will generally
be <tt>/usr/bin/perl</tt>, on other platfroms it's more likely to be <tt>/usr/local/bin/perl</tt>. 
Edit the line to point to the right place and it should work.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q10">Q10</A> <B>
I ran the vncserver program and got a 'Number found where operator
expected', 'prototype mismatch' or 'out of memory' message.</B></DT>

<DD>
<p>Note: This problem should be fixed in 3.3.2R3 and later.
This is a Perl error, and happens on platforms where the Perl installation
is not quite correct. We've heard of it particularly on S.u.S.E. linux
and Redhat 5.2. The problem is probably the line in the vncserver script
which says:</p>

<p><tt>  eval 'require "sys/socket.ph"';</tt></p>

<p>Your first option is to change this to: </p>

<p><tt>   ($] >= 5.0) ? eval 'use Socket' :
eval 'require "sys/socket.ph"';</tt></p>

<p>If this doesn't work, particularly on S.u.S.E., you
could try: </p>

<p><tt>   eval 'require "linux/socket.ph"';</tt></p>

<p>or check your Perl installation to see if socket.ph
is to be found in another directory.</p>

<p>Remember that vncserver is only a convenient wrapper around Xvnc. 
If it causes you problems, feel free to discard it and run Xvnc directly.</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q11">Q11</A> <B>
I started the X server using vncserver, but it dies with a message "Could
not open default font 'fixed'. "</B></DT>

<DD>
<p>The 'fixed' font is needed for the server to start
- if it can't find it, you need to specify the correct font path for your
machine in the 'vncserver' script.  If you're not sure what the path
should be, type 'xset q'  from within a normal X session. One of the
things reported is the font path used by your current X server, which is
generally the right thing to use for Xvnc.  On some platforms you
may need to use a colon as a separator in the font path instead of a comma.
</p>

<p>The VNC server can also get upset if you have directories on
your font path which don't actually exist on your system.  Make sure
you remove those. Also note that older versions of the Xvnc server, by
default, act as if they had a resolution of 100dpi.  Some RedHat
installations, for example, only install 75dpi fonts, so you may need
to install the missing font RPMs from your distribution or use the
-dpi option to Xvnc, or update to the latest version. </p></DD>




<!-- --------------------------------- -->

<DT><A NAME="q12">Q12</A> <B>I get errors like "failed to bind listener" and "Failed to establish
all listening sockets" in the log file.</B></DT>

<DD>This is probably due to the permissions on /tmp/.X11-unix.
You may well see this if you update to Solaris 2.7 or Redhat 6.0, for
example. See the section below entitled "Why can I only run
vncserver/Xvnc as root?".</DD>




<!-- --------------------------------- -->

<DT><A NAME="q13">Q13</A> <B>Vncserver seems to be dying quietly without putting any messages in
the log file.</B></DT>

<DD>Check that the Xvnc process really has died. If so, then check
that your VNC font path (set by uncommenting lines in the vncserver
script) only includes directories which actually exist.  The XFree86
code in older versions of Xvnc seems to have a problem which causes
the server to die quietly if non-existent directories are
searched. Upgrading to 3.3.3 or later should reduce these
problems.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q14">Q14</A> <B>
My Solaris/HP-UX Xvnc dies with a core dump!</B></DT>

<DD>There is a bug in XFree86 (on which Xvnc is based)
which makes Solaris servers very unreliable if they have a pixel depth
of 16. Use the -depth option to start your server with a depth of 8 or
24, and you should be fine.  We've heard that this can be a problem
with HP-UX as well. Darrell Kindred submitted <a href="http://www.uk.research.att.com/vnc/archives/1999-06/0132.html">a
patch</a> which speeds up operation on Alpha machines, and also fixes this
problem. The problem is also fixed in 3.3.3 and later releases of VNC.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q15">Q15</A> <B>
 I connected to my Unix VNC server and I just see a grey desktop with
a cursor.</B></DT>

<DD>After the vncserver script has started the Xvnc server,
it then runs your ~/.vnc/xstartup script.  By default this will try
to start the twm window manager, but if twm isn't on your path, or if you
prefer something else, you can edit xstartup.  The log file may also
give you clues about what is happening.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q16">Q16</A> <B>
The log file is showing an error message from xrdb / Xlib.</B></DT>

<DD>
<p>By default, the first thing your xstartup script does
is to run xrdb to load your resources.  So if the Xvnc server has
not started for any reason, the xrdb is often the first thing to notice
it and print an error.  (Though if you're getting a 'command not found'
message, then xrdb is probably not on your path - you need to find where
it is on your system and add it.)</p>

<p>If you get something like 'connection refused' or 'Can't
connect: errno = 111', the Xvnc server probably isn't there.  So you
should check whether the Xvnc process is actually running, and whether
there is anything earlier in the log file indicating why it might have
died.  By far the most common reason for the server not starting is
that it can't find the 'fixed' font (see above). Other possibilities are
that the server has quietly crashed, or that it is taking a very long time
to start up.  The vncserver script has a 3-second delay before running
xstartup, but in extreme cases this may not be enough.  Lastly, the
DISPLAY variable used by vncserver is based on the results given by the
'uname - n' command. If your applications cannot resolve this to the right
IP address, perhaps because of funny settings in /etc/hosts, then they
won't be able to connect. </p>

<p>If you get a 'Client is not authorized to connect to
Server' or similar message, there's something wrong with the X authority
setup - perhaps xauth is not on your path? You could try using xhost to
bypass this temporarily, but we wouldn't recomend this as a long-term solution. 
There should be some indication in the log file if xauth has failed.
</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q17">Q17</A> <B>
The Java client doesn't work in my browser.</B></DT>

<DD>Several Java implementations have bugs which upset the VNC
applet.  Try pressing Reload. We've seen this problem on Netscape
Navigator 3 and Internet Explorer 5.  Note, too, that the Java applet
often won't work if you are accessing the server via a web proxy. Make
a direct connection if you can.
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q18">Q18</A> <B>The Windows viewer dies as soon as it starts, or gives an
error message (invalid page fault) immediately, before I've even typed in a server
name!</B></DT>

<DD>There is a bug in the code which retrieves the list of
most-recently accessed connections for the initial dialog box. If,
when you run the viewer for the first time, you just hit return
without entering a server name, this gets stored as an empty entry in
the 'most recently used' list. The fix is to use REGEDIT to delete the
registry key
<tt>HKEY_CURRENT_USER\Software\ORL\VNCviewer\MRU</tt>. This will be
fixed in version 3.3.3r2 of the viewer.
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q19">Q19</A> <B>
My viewer failed to connect to my server!
</B></DT>

<DD>
<p>VNC relies on a correctly-configured and operational
TCP/IP network, so please make 100% sure that your TCP/IP setup is right
before you start asking questions on the mailing list.  Here are some
things you should check before assuming it's a VNC problem; consult your
local expert if you don't know how to check them:
</p>

<ul>
<li>
Can you ping the server machine from the client?</li>

<li>
Is the VNC server definitely running on the server machine?</li>

<li>
The server listens on port 5900+displaynumber. Can you telnet to this port
from the client machine?</li>

<li>
Have you specified the address correctly to the viewer? If you're using a display number other than zero for the server, (usually the case on Unix machines), did you remember to specify it?</li>

<li>
Is the server name known to the DNS?  Try using an explicit IP address
instead of a name (eg. 123.456.78.9:0 instead of snoopy:0).</li>

<li>
Do you have any firewalls or proxies in the way that could be blocking
acess?</li>

<li>
If using the java client, did you remember to specify the correct port
as part of the URL? (eg. <a href="http://snoopy:5800">http://snoopy:5800</a>)?
</li>

<li>
Can you try running either the server, or the client, or both, on different
machines on your network to find whether the problem is at one end or the
other?
</li>

<li>
Can you try running the software on a different architecture?  eg.,
if you are  having problems viewing a PC from another PC, can you
try connecting from a Unix machine?
</li>

</ul>
</DD>


</DL><HR>




<H2>Running the programs</H2><DL>



<!-- --------------------------------- -->

<DT><A NAME="q20">Q20</A> <B>My X VNC server is working, but I don't see my normal environment. How can I change the Window manager etc?</B></DT>

<DD>The window manager is started by the ~/.vnc/xstartup script.  We use
twm, as this is available on almost all Unix platforms.  Edit the
script if you'd rather replace it with something else.  On many platforms
you can, as an alternative, just make xstartup a link to whatever script
normally starts your X environment.
<br></br>If you want to be more sophisticated, you can specify the -name option
to vncserver, and then take different actions in the xstartup script based
on the name given. For example:
<pre>case "$VNCDESKTOP" in
kde)
        startkde &
        ;;
*)
        xterm -geometry 40x10+40+40 -ls -title "$VNCDESKTOP Desktop" &
        twm &
        ;;
esac
</pre>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q21">Q21</A> <B>
Why can I only run vncserver/Xvnc as root?</B></DT>

<DD>The most likely reason for this is that Xvnc can't
create the unix domain socket (the path for this unix domain socket is
usually /tmp/.X11-unix/Xn).  Try making sure that users can write
to this directory by making it world-writable, i.e. <br></br>
<tt>chmod 01777 /tmp/.X11-unix</tt><br></br> 
An alternative is to set the Xvnc binary to have the same
permissions as your normal X server, but this may be more of a security
risk.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q22">Q22</A> <B>
Can I remote the normal X display of my workstation (display :0) in
the same way as the Windows server does?</B></DT>

<DD>It would be possible to add VNC support to a standard
X server, so that it operated this way, but we have no plans to do so. 
It shouldn't be too difficult, if you have the full source code for your
X server.  Xvnc is basically XFree86 with the hardware-dependent bits
taken out and VNC put in their place, so it doesn't have drivers for any
graphics cards. You could have a look at the Xvnc source code to see which
bits have been added to the standard XFree86, and make the equivalent changes
on <i>your</i> X server.
<br></br>We tend to run all our X sessions as VNC sessions and only use the
local X server to run the viewer.  It's very fast when on the same
machine as the server! If you feel that it's overkill to run two X servers
on the same machine, you might consider Ganesh Varadarajan's  svgalib-based
viewer, available from the <a href="contribs.html">contribs</a> page.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q23">Q23</A> <B>
What X Visual does Xvnc use?</B></DT>

<DD>
<p>By default, vncserver will start Xvnc with the same
depth as the current X display, if there is one, or 8 bits deep if there
isn't.  We've tried to steer clear of colour maps as much as possible
and normally use "true colour", even when there are only 8 bits per pixel.</p>

<p>Unfortunately some X applications don't cope too well
with an 8 bit TrueColor visual.   You can make Xvnc use the more
normal PseudoColor visual by giving a "-cc 3" option to vncserver.</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q24">Q24</A> <B>
Can I cut and paste between the viewer and the server?</B></DT>

<DD>
<p>VNC supports copying and pasting of ASCII text in both
directions, provided the viewer and server allow it.  When the clipboard
changes on the machine running the viewer, the changes are copied to the
server and vice versa.  Some notable exceptions:</p>

<ul>
<li>
X has more than one method of using the clipboard and different applications
do it different ways. Emacs and xterm should just work. If you find that
your X application doesn't work via VNC, you can generally use the
<tt>xcutsel</tt>
program to copy the clipboard between the different X methods.  VNC
uses Cut_Buffer0, so if you select text in Unix Netscape, for example,
you may need to click 'Copy PRIMARY to 0' before it is accessible at the
other end of the VNC link.  You can use X resources to make the button labels more meaningful. For example, here's a script:
<pre>
#!/bin/sh
exec xcutsel \
	-xrm '*quit.borderWidth:0' \
	-xrm '*quit.height: 1' \
	-xrm '*quit.label:' \
	-xrm '*sel-cut.label: Clipboard: out of netscape' \
	-xrm '*cut-sel.label: Clipboard: into netscape' \
        -xrm '*font: -*-helvetica-*-r-*-*-*-*-*-*-*-*-*-*'
</pre>
</li>

<li>
Java applets running in the browser cannot access the clipboard of the
machine on which they are running, so the Java viewer has a clipboard button. 
This pops up a window displaying the contents of the remote clipboard,
which should allow you to manipulate it locally.</li>
</ul>

<p>The code to do copying <i>from</i> the X server <i>to</i>
the viewer didn't make it in the original version 3.3.2.  It's back
in 3.3.2R2 and later, so upgrade if you haven't already!</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q25">Q25</A> <B>
There's a memory leak in Xvnc!</B></DT>

<DD>This is fixed in versions 3.3.2r3 and later.   If you're using an older
distribution you can find a patch for it <a href="http://www.uk.research.att.com/vnc/archives/1998-09/0160.html">here</a>.</DD>
 



<!-- --------------------------------- -->

<DT><A NAME="q26">Q26</A> <B>
Can I run the Windows server before anybody has logged in? </B></DT>

<DD>Yes. Read the section on running WinVNC as a service in the <a href="winvnc.html">documentation</a>.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q27">Q27</A> <B>
Why doesn't Ctrl-Alt-Del work? Why can't I unlock my NT workstation remotely? Why can't I stop the screensaver remotely?</B></DT>

<DD>Make sure you are running a recent version of VNC,
<b>and
that you are running it as a service</b>.  From some platforms you
will not be able to type Ctrl-Alt-Del directly, because it will be caught
by the local machine. The Windows viewer, for example, has an option on
its menu to send a Ctrl-Alt-Del to the remote host. In some situations,
you will find that something like Ctrl-Alt-Backspace or Ctrl-Alt-<Numeric
keypad Del> may work instead. Screensavers sometimes use a different resolution
and so can disconnect you when they stop or start - see the next question.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q28">Q28</A> <B>When I connect using VNC and then log into my Windows
machine, I get disconnected and have to reconnect!</B></DT>

<DD>Sometimes logging in will involve a change in screen
resolution, if the user's display settings are different from the
defaults. If this happens, the server will disconnect you and you will
need to reconnect to get the new screen size. Just occasionally on NT,
the mode seems to change resolution temporarily as you log in, and if
WinVNC happens to see this you can also be disconnected, even if the
final resolution changes.  
<br></br>If the user has set a different
display number in their personal WinVNC properties dialog you will
also be disconnected.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q29">Q29</A> <B>Can I arrange for the local physical screen, keyboard & mouse on my WinVNC server to be disabled when I'm accessing it remotely?</B></DT>

<DD>We don't know of a way to do this which will still allow us to
read the screen and inject fake input events from WinVNC.  If you have
any code which might help, we'd be pleased to hear from you!  Until
then, if this aspect of security is important, we can only recommend
that you consider other options such as password-protected screen
savers, lockable keyboards, turning off the screen, unplugging the
keyboard, or other physical security devices.</DD>

  


<!-- --------------------------------- -->

<DT><A NAME="q30">Q30</A> <B>
I have troubles sending Ctrl-Alt-Del to a Windows server.</B></DT>

<DD>
<ul>
<li>
Ctrl-Alt-Del will only be recognised by a Windows NT VNC server, and only
when VNC is running as a service. On Win95/98, it suspends all processes,
including the VNC server, so it wouldn't be much use!</li>

<li>
The Windows and Java viewers have menu options to send Ctrl-Alt-Del, so
they don't get interpreted locally.</li>

<li>
If you are using the Mac or X-based viewer, you should just be able to
type the keys, but some platforms seem to catch the keystrokes.  If
this is the case for you, I'm afraid you'll have to work out how to stop
it!  It might be worth trying slight variations (eg. the right Ctl
key, or a different Del/Delete key, if you have one).</li>
</ul>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q31">Q31</A> <B>I can't make it work on Windows 2000</B></DT>

<DD>
If you're using the standard VGA driver, can you change to SVGA or something 
specific to your video card? Windows 2000 uses the old Win98 VGA driver, which has problems.
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q32">Q32</A> <B>The dead keys don't work on my keyboard</B></DT>

<DD>It's quite a challenge working out how to do international
keyboard support across different platforms.  We'll sort out dead
keys, but if you'd like to work out how to do them, we'd be
grateful.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q33">Q33</A> <B>
When I start a DOS window, it doesn't display at the remote
end.</B></DT> 

<DD>You might also notice the pointer leaving a trail of arrows
behind it.  This happens when your DOS sessions are
full-screen. WinVNC cannot read the display when this happens, but
keystrokes should still get through.  Press Alt-Enter to switch the
DOS box to windowed mode.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q34">Q34</A> <B>I can't type into a DOS window or any DOS apps</B></DT>

<DD>This derives from the fact that Windows 95 uses BIOS
calls and not Windows messages to get keystrokes within the command prompt. 
It should be fixed in version 3.3.1 R19 and later of the WinVNC server,
so if you're using an earlier version, uninstall and upgrade.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q35">Q35</A> <B>The keyboard doesn't work / keys do strange things!</B></DT>

<DD>There is one common problem which can cause this. 
If a modifier key, such as Shift, Ctrl or Alt, is pressed, and the viewer
window then loses focus or dies, the 'key release' message never gets to
the viewer and hence never gets to the remote server.   The remote
machine will then think that M is Ctrl-M etc.  We have done various
things to reduce the chance of this happening; the viewers release various
modifiers automatically when they lose focus, for example, but it can still
occur and can be confusing when it does.  The solution is easy: simply
press and release the modifier key which is stuck.  If you don't know
which it is, then try them one at a time.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q36">Q36</A> <B>Most of my Windows apps work fine remotely, but this one
doesn't update its window...</B></DT>

<DD>
<p>WinVNC can use a variety of hints to guess when a particular
area of the screen has changed.  The most useful is the occurrence
of a WM_PAINT message in an application.   Not all applications
use these messages, though; the Windows clock is a good example.</p>

<p>In the registry WinVNC has a list of application names, and which
things to use as update clues.  A few standard applications are set up
by the 'Install default registry settings' in the WinVNC section of
the Start Menu; it tells WinVNC to look for timer messages from the
clock, for example.  Make sure you install these if you haven't
already.  Any other apps you run will appear in the registry, so you
can easily tweak the settings. For more info, see the <a href="winvnc.html">WinVNC documentation</a>.</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q37">Q37</A> <B><a name="WinVNCload"></a>WinVNC is putting a huge load on my PC!</B></DT>

<DD>Firstly, WinVNC should have negligible impact when
nobody is connected to it. It does practically nothing in this state. If
you find that it is running at something close to 100% CPU when there is
a remote connection, check the Update Handling in the Properties dialog
box.  The default settings should be fine in most circumstances. If
you have either (a) Ticked 'Poll Full Screen' or (b) Ticked 'Poll Foreground
Window' or 'Poll Window Under Cursor' <i>without </i>having 'Poll Console
Windows Only' ticked, then the load will be much higher. See also the section
below on 'How do I make VNC go faster?'.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q38">Q38</A> <B>WinVNC dies, or causes other applications to die, after a
short time when a viewer is connected.</B></DT>

<DD>Some screen savers, particularly on Windows 95, do
not interoperate well with WinVNC.  Try disabling all screen savers
on the machine running the server and see if that fixes it.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q39">Q39</A> <B>My remote Windows display is appearing in a very garbled
form.</B></DT>

<DD>
<p>There can be problems with
WinVNC being unable to detect changes to the screen on certain
applications, as mentioned in the previous question, but there should
not generally be serious screen corruption.</p>
<p>If you have Win95/98 and you have a video driver which only
uses 16 colours, you need to change it.  VNC really expects at least
256 colours, though 16 shoudl work on NT.</p>
<p>Make sure you have the
latest service packs installed for your OS and experiment with
different video drivers.  WinVNC relies on various aspects of the
video card and driver; in particular its ability to BitBlt correctly,
and several users have solved their problems by updating the
driver.</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q40">Q40</A> <B>
I have problems with double-clicks in Windows.</B></DT>

<DD>By default, mouse button up events are used to signal
to WinVNC that the current window may have changed and should be re-scanned. 
This can introduce a delay which results in a double-click being interpreted
by the system as a pair of single clicks.   Variations in network
delays can also cause the clicks to be too widely separated when they appear
at the server.  Some suggestions:

<ul>
<li>
In many situations, the action performed by a double-click is also available
from a right-button menu.</li>

<li>
You may find that clicking three times, rather than two, will help.</li>

<li>
You can change the double-click speed using the control panel on the server
so that more widely-spaced clicks are still interpreted as doubles.</li>

<li>
You can disable the left-click hook by editing the registry, as described
in the WinVNC documentation, although this may mean that WinVNC misses
some screen updates from that application.</li>
</ul>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q41">Q41</A> <B>
I'm installing WinVNC as a service on lots of machines, and I get prompted
for the password on each one.  Can I do this non-interactively?</B></DT>

<DD>Not directly, but you can by editing the registry before
installing. On a machine which already has WinVNC installed, copy all the
registry settings under 
<p><tt>HKEY_USERS/.Default/Software/ORL/WinVNC3</tt></p>
<p>into the same place in the registry of the remote machine, either by
hand or using your favourite tool. When WinVNC runs, it will see the password in that section
of the registry and will not prompt you to type one in. </p>

<p>Another hint that might be useful was sent in by Johannes
Norinder. If you run the SETUP program with a -r option, it will create
a setup.iss file, probably in your %systemroot% directory. Following installations
on similar computer can be started with "setup -s -h1[path to your setup.iss]"
and you won't have to answer the questions again!</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q42">Q42</A> <B>I only have a two-button Windows mouse, and I really need
three buttons for X...</B></DT>

<DD>Get a recent version of the Windows viewer. 
This allows you to emulate the middle button by pressing both buttons together.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q43">Q43</A> <B>I have a three-button Windows mouse, but the middle button doesn't
work.</B></DT>

<DD>This is almost certainly a problem with your mouse
driver.  The Windows VNC viewer recognises standard WM_MBUTTON...
messages and should work with any driver that generates them.  Some
drivers, knowing that Windows seldom normally uses the middle button, either
don't recognise it, or map it to something else like a double-click. Try
telling Windows that you have a different type of mouse, (we've had reports
that the Logitech PS/2 Port Mouse is a good one to try) or use the 3-button
emulation mode mentioned above.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q44">Q44</A> <B>My machine doesn't have a DNS entry or static IP address!
What address should other people use to connect to my WinVNC
server?</B></DT>

<DD>
<p>If your ISP allocates you a dynamic IP address when
you dial in, you will need to give that to the person trying to connect. 
On Windows95 machines, after connecting, you can use the <tt>winipcfg</tt>
program (type it into the Start/Run... box).  On NT machines, type
<tt>ipconfig</tt>
at a command prompt. On linux machines, try <tt>hostname -i</tt>. 
A handy new feature on recent versions of WinVNC causes the IP addresses
of the local machine to be displayed when the mouse hovers over the WinVNC
icon, (if they can be determined at that time).</p>

<p>Of course, if your phone line is now in use you may
need to find some other way of getting this information to the remote person. 
I suggest a chat system like AOL Instant Messenger. There are also programs
out there which will automatically create a web page with your current
IP address, which the other person could then read.</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q45">Q45</A> <B>Can I get rid of the taskbar icon created by WinVNC?</B></DT>

<DD>
<p>No. Not without changing and recompiling the source
code.  We feel that there would be few legitimate uses of VNC where
you would need to conceal its operation.   However, there might 
be occasions where you would not want the user of the server machine to
be able to adjust the WinVNC settings, password, etc, so versions later
than 3.3.2R3 will include a 'restricted' mode where the icon is still visible,
but the menu options normally available from it will be disabled.</p>

<p>In some situations, particularly on Win95, you may
find that the icon is not displayed. This is not a feature, it's a bug
which we plan to iron out! See the question above on 'I ran WinVNC don't see an icon in my Taskbar!'.
</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q46">Q46</A> <B>
Can I set up WinVNC to use my Windows NT password for authentication?</B></DT>

<DD>Not at present.  Partly because there are many
problems with the NT security model, but chiefly because we want to keep
VNC as cross-platform as possible.  In the future we may try and make
the code and the protocol more modular so it will be easier to add your
own favourite authentication.
</DD>

 


<!-- --------------------------------- -->

<DT><A NAME="q47">Q47</A> <B>
 Can I make the Macintosh server start automatically when the machine
boots up?</B></DT>
<DD>Yes, create an alias to VNCServer and put it into the Startup items folder
(in your system folder).</DD>




<!-- --------------------------------- -->

<DT><A NAME="q48">Q48</A> <B>
When I try to set a new password for my Mac server, I hit CHANGE on
the web page, but nothing happens. It is trying to bring up the settings.html
page, but fails.</B></DT>
<DD>The http portion of the current server is unstable, sorry. But you can
set your settings with AppleScript.
<p>Open the AppleScript editor and enter the following:</p>
<pre>
tell application "VNCServer"
set password to "whatever"
end tell
</pre>
<p>There are other options you can set, which are all documented in the
directory inside VNCServer (use the AppleScript editor to open the dictionary)
</p>
</DD>

</DL><HR>


<H2>General Questions</H2><DL>



<!-- --------------------------------- -->

<DT><A NAME="q49">Q49</A> <B>
How do I make VNC go faster?</B></DT>

<DD>
<p>We find VNC to be perfectly acceptable as our normal method of
accessing Unix desktops on a daily basis.  This is over a 10 Mbit/s
ethernet on reasonably modern machines, using the X or Win32 viewer.
Because Windows gives us fewer hints about what it's doing, and
because we don't have the source code for Windows in the same way that
we do for X, the WinVNC server has to work harder to find out what's
changed, and so a really fast machine should make a big speed
difference.  For more information about how the Windows server works,
see the <a href="winvnc.html">WinVNC documentation</a>.  But if you've
been disappointed by the speed of the Windows server, don't give up.
We're improving it gradually, but it'll be a while before it's as fast
as on Unix. </p>

<p>There are several things that can slow any VNC session
down, however, and you may like to consider these if you find it too slow:</p>

<ul> 
<li>
Unusually 'busy' desktops.  The VNC protocol is very efficient at
rendering areas of a single colour, such as you generally find on window
title bars, scrollbars, backgrounds of pages etc. But if, for example,
you have pretty 24-bit photographs of your girlfriend as your screen background,
or dithered title-bars on your windows, you may pay a price for the aesthetics.
<b>A
colourful or patterned desktop background will probably slow down VNC more
than any other single factor.</b> We have some suggestions on
<a href="twmideas.html">speeding
up the twm window manager</a>, some of which will also apply to other environments.</li>

<li>
Hi-colour desktops.   Don't use 24-bit colour if you can use
16 or 8 equally well. Remember, on Unix you can run multiple servers, so
I have a big 16-bit desktop for normal work and a small 8-bit one for when
I log in from home.  The server can send out a wide range of pixel
formats, and some viewers will allow you to request a specific format for
that session. On the Windows viewer, for example, if you click Options...
when making the connection, you can request only 8-bit pixels from the
server - useful if the network gets slow.  If you are using a modem,
I recommend changing the shortcut in the Start menu to include the /8bit
option - this will then be the default.  Similarly, if you regularly
connect to a remote WinVNC server, consider whether you could run happily
at lower resolution. A 1280x1024 screen has more then 4 times as many pixels
as a 640x480 one, and if all you are doing is checking a printer queue
you probably don't need them all! Note, though, that on WinVNC, 16-bit
colour is usually the best to use. See below.</li>

<li>
Elderly graphics cards or drivers may make quite a difference; this is
a graphics-intensive application!  On Windows the graphics system
on the server will affect the speed as well as the one on the viewer.</li>

<li>
Some applications are not very economical about redrawing their display. 
Early versions of Unix Netscape, for example, tended to draw everything
twice when scrolling, which did nothing to help the smoothness under VNC.
X11Amp flashes its display very fast when in 'pause' mode.</li>

<li>
Some Java Virtual Machines are particularly fast at reading from the network
and particularly slow at drawing to the screen, or vice versa.  With
the Java viewer it is worth experimenting with the encodings available
from the Options menu, as we sometimes find big differences in speed.</li>

<li>
If you are connecting to WinVNC, don't change the default settings in the
Properties box unless you need to. See '<a href="#WinVNCload">WinVNC is
putting a huge load on my PC</a>' above.</li>

<li>
All the standard clients can do local rectangle copying, and this generally
means that dragging a full window on X is much faster than dragging its
outline.  If your window manager allows this, it may speed things
up.   Roman Mitnitski also reports that when he increased the
mouse dragging threshold (-t option of the server) the performance was
improved.</li>

<li>
Generally, with WinVNC, use 16-bit colour (65536 colours) on the server
if you can. 16-bit is <i>almost</i> always the best depth to use, because:

<ol>
<li>
256-colour screens have to be palette-converted before they can be transmitted
to truecolour clients. Only if the client is 256-colour palette- based
will you see any performance increase. Even if the client is 256 colour
truecolour, it'll have to convert via a 32-bit truecolour palette!</li>

<li>
24-bit screens have to be specially munged via 32-bit since VNC's internal
colour-handling routines don't work with 24-bit directly.</li>

<li>
24 and 32-bit screens have to have each pixel looked up in three tables
to get the converted value.</li>

<li>
Graphics cards claiming to do 24-bit often actually do 32-bit with munging
- this in many cases makes 24-bit slower just for general use than 32-bit!</li>

<li>
Finally, 16-bit involves no palette processing and a single lookup in a
cached src_format to dest_format table to convert the pixels.</li>
</ol>
</li>
</ul>

On slow links, you may also want to use some software to compress the
data between the two ends. SSH or Zebedee can be used for this. See
the section on security below.  
</DD> 



<!-- --------------------------------- -->

<DT><A NAME="q50">Q50</A> <B>Will VNC work through a firewall?</B></DT>

<DD>
<p>It depends on your firewall, and whether you want to
access a server inside your firewall from elsewhere, or a server outside
your firewall from inside.</p>

<p>Generally firewalls are designed to prevent incoming
connections except to certain well-known machines and ports.  If you
can configure these to include your VNC server, then you will be able to
access it from anywhere in the world.  There is a good argument to
be made for the fact that VNC is less of a security risk than X, so if
your site doesn't allow X in or out it may still allow VNC. </p>

<p>Many modern firewalls will allow outgoing connections
initiated from inside, so you can often access servers on outside machines. 
It is straightforward, for example, to recompile the viewer source to include
SOCKS support, or to make other special arrangements. See the <a href="contribs.html">contribs</a>
page. </p>

<p>It's a pity that Java within a browser doesn't automatically
use SOCKS if the browser is configured to use it.  There's probably
Java SOCKS support out there somewhere... </p>

<p>If your internet access is through a router which does
Network Address Translation, you may be able to configure the router to
redirect particular incoming ports to particular machines. So you could
run WinVNC with a display number of 0 on machine snoopy, and with display
1 on machine woodstock, then set your router to send port 5900 to snoopy
and 5901 to woodstock.  See below for information on the other port
numbers used by VNC.</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q51">Q51</A> <B>
Which TCP/IP ports does VNC use?</B></DT>

<DD>
<p>A VNC server listens on two ports. The exact port numbers
depend on the VNC display number, because a single machine may run multiple
servers. The most important one is 59xx, where xx is the display number. 
The VNC protocol itself runs over this port. So for most PC servers, the
port will be 5900, because they use display 0 by default.</p>

<p>In addition, VNC servers normally have a small and
very restricted web server built in, which allows you to connect a browser
to them and use the Java viewer.  This runs on port 58xx.  Note
that this is the HTTP port used for downloading pages and applets, but
once the applet is running it uses 59xx for VNC just like any other viewer. </p>

<p>The servers can be changed to listen on other ports
if, for any reason, these are not suitable for you.  See the server's
<a href="docs.html">documentation</a>
for more details.  Most of the viewers, if given a display number
larger than 99, will interpret it as a direct port number and will not
add 5900. See also the next question.</p>

<p>If you are running a viewer in 'listening' mode, where
it accepts connections initiated by the server, it will listen for incoming
VNC on port 5500. </p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q52">Q52</A> <B>Can I run VNC over a port normally used for a standard service? (eg. port 21, or port 80)</B></DT>

<DD>In rare circumstances, people may want to do this, perhaps because they have a firewall which only allows connections to certain ports. This can be done, at least for the Windows and Unix servers (see their <a href="docs.html">documentation</a>), but the following points need to be borne in mind:
<ul>

<li>On some systems (eg. most forms of Unix), ordinary users are not
allowed to run servers on ports below 1024.</li>

<li>You obviously can't run a VNC server on a port that's already
being used for other things.</li>

<li>Many VNC servers use two ports: one for the VNC server, and one
for the HTTP server that provides the Java applet (see previous
question). If you plan to use the Java viewer, you may want to change
both. Not all servers will allow this at present.</li>

<li>You need to tell the viewer the right display number. Normally,
display numbers come between 0 and 99. If you specify any number
smaller than 99, the viewers add 5900 to get the port number. If you
specify a larger number, the viewers take it as a port number
directly. So how do you use port numbers lower than 99? You have to
specify a negative display number!  For example, to connect to a
server running on port 80 on machine 'snoopy':<br></br>

	<tt> vncviewer snoopy:-5820 </tt><br></br>

because -5820 + 5900 = 80. This may not work with all viewers, but Unix and Windows seem to be fine.
</li>
</ul> </DD>




<!-- --------------------------------- -->

<DT><A NAME="q53">Q53</A> <B>
How secure is VNC?</B></DT>

<DD>
<p>Access to your VNC desktop generally allows access
to your whole environment, so security is obviously important. VNC uses
a challenge-response password scheme to make the initial connection: the
server sends a random series of bytes, which are encrypted using the password
typed in, and then returned to the server, which checks them against the
'right' answer. After that the data is unencrypted and could, in theory,
be watched by other malicious users, though it's a bit harder to snoop
a VNC session than, say, a telnet, rlogin, or X session.  Since VNC
runs over a simple single TCP/IP socket, it is easy to add support for
SSL or some other encryption scheme if this is important to you, or to
tunnel it through something like SSH or Zebedee.</p>
  
<p>SSH allows you to redirect remote TCP/IP ports so that all
traffic is strongly encrypted, and this can be combined with VNC.
SSH can also compress the encrypted data - this can
be very useful if using VNC over slow links. See the '<a href="sshvnc.html">Using SSH with VNC</a>' page. Zebedee is a similar system which can be sometimes simpler to use. You can find info <a href="http://www.winton.org.uk/zebedee/">here</a>.
</p>

<p>While we're on the subject of security, you should
also be aware that only the first 8 characters of VNC passwords are significant. 
This is because the 'getpass' call used in the Unix server to read a password
has this restriction, and the other platforms have been made compatible
with this. </p>

<p> 
Ray Jones <<a href="mailto:rjones@pobox.com">rjones@pobox.com>
</a>has
built a version of VNC which uses SSLeay public key encryption, and Wolfram
Gloger <<a href="mailto:wmglo@dent.med.uni-muenchen.de">wmglo@dent.med.uni-muenchen.de</a>>
has built Xvnc with the TCP Wrapper library, allowing you more control
over which hosts are allowed to connect. See the <a href="contribs.html">contribs</a>
page for details.
</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q54">Q54</A> <B>Are you going to make it more secure?</B></DT>

<DD>We do hope eventually to add better security to VNC, but
there's also a good argument for <i>not</i> doing so.  If security is
a concern, it can be better to use a single system such as SSH,
FreeS/WAN, or Zebedee to encrypt all your traffic, rather than relying on the
individual packages to do the right thing.  Then, if you decide in a
year's time that one system is too easily crackable, you can replace
it yourself and all of your communications will benefit.  It may also
be easier to fit in with corporate security systems this way.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q55">Q55</A> <B>Could you do file transfer (e.g. by drag & drop) between the two ends?</B></DT>

<DD>
<p>
It's certainly possible, but we aren't going to do it.  File transfer
seems simple, but is actually rather complicated to do in a cross-
platform way.  Some examples: How do you map filenames between
platforms with wildly different naming conventions? How do you cope
with running out of disk space?  What about permissions?  How do you
do it on platforms which don't have a concept of drag and drop? Can you interrupt the transfer if it's taking too long? Can you restart it if it gets interrupted?
</p>

<p>
Since there are a very large number of perfectly good systems out
there for transferring files over IP, we aren't planning to
incorporate it in VNC.  It would probably more than double the size of
the code, and would introduce all sorts of issues that we, quite
frankly, aren't interested in! So use the standard file transfer built
into Windows, or use FTP, or netcat, or the web, or rcp, or ssh, or...
</p>
</DD>

 


<!-- --------------------------------- -->

<DT><A NAME="q56">Q56</A> <B>Are you planning support for AIX, EPOC,HP-UX, SGI, Win 3.1,
or my favourite platform ?</B></DT>

<DD>We have provided VNC on all the platforms we use here, and
it's difficult to provide binaries for anything we don't have, and it
takes a while to get up to speed on new platforms.  Information about
third-party ports of VNC to a large number of other platforms can be
found on the '<a href="contribs.html">contribs</a>' page, so check
there first. Remember that a viewer is available for any platform
which runs Java, though the speed may vary quite a bit. But for many
platforms it should not be difficult to compile at least the
viewer. If anyone tailors the sources for a particular platform we
will happily either incorporate the changes in the main source
distributions or make the patches available from our site.  </DD>




<!-- --------------------------------- -->

<DT><A NAME="q57">Q57</A> <B>
Would things work better if you compressed the stream?</B></DT>

<DD><p>VNC incorporates really quite efficient compression
in the sense that we generally send a tiny fraction of the raw data, probably
something like 1/20 on average. The details are in the protocol spec if
anyone's interested.  On a couple of test screen dumps we found that
the Hextile encoding was more efficient than GIF!  I don't know whether
this is true in general. </p>

<p>But we haven't done more general encoding after that;
we've tended to the view that (a) it might introduce too much latency and
(b) most modems compress pretty well anyway.   We are planning
some zlib-compression experiments in the near future to see how this affects
things. Because different bits of the screen can be sent using different
encodings, the server could, in theory, detect that one bit would be most
efficiently sent as JPEG, while another would be better hextiled. </p>

<p>The question is always how much work it's worth doing
at the server to find this out.  To some degree you can control this
already, because the viewers allow you to specify your preferred encoding.
Under X, if your viewer and server are on the same machine the viewer will
use the raw encoding by default, otherwise it will use hextile.  You
may find that by selecting different encodings on the command line you
get better performance. </p>

<p>See also the suggestions above about using ssh or zebedee, which also
provide compression.</p></DD>




<!-- --------------------------------- -->

<DT><A NAME="q58">Q58</A> <B>
Have you thought about caching bits of the screen at the viewer end?</B></DT>

<DD>
<p>
Yes, that could also be good. You could have an off-screen
cache in the viewer and the server could copy things from there to the
screen.  Management of this would add a certain amount of complexity,
though. </p>

<p>Since there is already a CopyRect primitive in VNC,
an alternative approach would be to copy updates from another part of the
screen if they already exist there, rather than resending them. Again,
to make the server find out efficiently when this is worth doing would
be an interesting challenge, and volunteers for the project are welcome! 
</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q59">Q59</A> <B>
Can I use VNC over a modem without using TCP/IP?</B></DT>

<DD>Not at present. VNC could run over other transports such as
RS232, firewire, USB, modems, IrDA etc, in fact, anything which gives
a reliable 2-way connection. At present we just use TCP/IP, because
it's convenient, ubiquitous, and easy to route.  This means that you
can use VNC over anything which supports TCP/IP, so using it over a
modem is just the same as any other network, once you have Dial-Up
Networking set up.  If you need to communicate directly between two
machines without going via the internet/intranet, then set up a remote
access server on one and dial in from the other.</DD>




<!-- --------------------------------- -->

<DT><A NAME="q60">Q60</A> <B>
Does VNC have any Y2K (Year 2000) bugs?</B></DT>

<DD>The simplest answer to this, now that the date has passed, is that lots of people are happily running it without any problems.  However, if you want more details, this is what we used to say here in the last millennium:
<blockquote>The WinVNC server and Windows viewer have been tested
on a PC with its date running through the 2000 boundary without any problems,
so unless the underlying OS or BIOS has difficulties, VNC on a PC should
be fine.  The VNC part of the X-based Unix VNC server only uses dates 
when writing the log files; the logfile entries are timestamped with a
two-digit year, but the format is easy to change if required and the entries
are not intended to be machine-readable. The developers of  the XFree86
server on which Xvnc is based state that there are no Y2K problems (see 
http://www.xfree86.org/FAQ/). We therefore issue the standard disclaimer:
we believe the VNC code, in its entirety, to be free from Year 2000 problems,
subject to the other components of the systems on which it is running.
</blockquote>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q61">Q61</A> <B>
How can I install WinVNC on multiple machines?</B></DT>

<DD>When you run WinVNC for the first time on a machine,
it will prompt you for a password.   If you are doing this on
a large number of machines, especially remotely, this can be a nuisance. 
The way to bypass this is to make sure that the target machine already
knows the password by putting the encrypted version straight into the registry
before installing. So:

<ul>
<li>
Install WinVNC on a master machine and set the password</li>

<li>
Copy the appropriate registry entries from

<br></br><tt>HKEY_CURRENT_USER\Software\ORL\WinVNC3</tt> , or
<br></br><tt>HKEY_USERS\.DEFAULT\Software\ORL\WinVNC3</tt>, 
<br></br>(if you installed WinVNC as a service) and install them on the target
machine using your favourite registry utility.</li>

<li>
Copy the VNC files (typically under C:\Program Files\ORL\VNC) onto the
remote machine.</li>

<li>
Install as a service or into the startup directory as appropriate.</li>
</ul>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q62">Q62</A> <B>
Can I connect multiple users to the same Windows server, and have them
each see their own desktop, as with WinFrame, NTrigue, WTS, etc?</B></DT>

<DD>
<p>No. Windows NT has a reasonable concept of multi-user
access, but not where the GUI is concerned.  Basically, you can't
do this without access to the source code of Windows, and that's rather
difficult to get hold of!  We <i>have</i> successfully run multiple
WinVNC servers on a Windows Terminal Server machine, but they don't update
unless a WTS client is also connected, which rather defeats the purpose. 
It may be possible in future to get documentation on the WTS APIs, in which
case we might be able to do something better.</p>

<p>Of course, if your server is Unix-based, then you have
no problem.  You can run dozens of VNC servers on a single machine.
</p>
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q63">Q63</A> <B>
Any other tips?</B></DT>

<DD>
<p>Several people have indicated that they have to use
Windows occasionally but prefer to use Unix most of the time, and so want
to access a PC under the desk from the Unix box. </p>

<p>Here's a suggestion: all other things being equal,
I recommend using the Windows box to view the Unix machine rather than
the other way around.  This is chiefly because Windows generally works
better as a client than as a server, and also because PC graphics cards
are often better than those in Unix workstations.  Remember, you can
create a VNC session of any size and pixel depth you like.</p>

<p>If you're very anti-Windows you can make your VNC desktop
the same size as the local screen and set the taskbar to 'Auto hide' and just
pretend you're on an X terminal, but pop up the Start menu when you have
to use PowerPoint.... The Windows viewer also now has a proper
'full-screen mode', so you don't even need to bother with auto-hide.
</p></DD>




<!-- --------------------------------- -->

<DT><A NAME="q64">Q64</A> <B>
You misspelled 'organization' on the download page!</B></DT>

<DD>No we didn't. We spell it like that in the UK. 
Actually, we spell it both ways, but the 's' spelling is more common, despite
what the OED says! Now, as for 'misspelt'...</DD>

</DL><HR>



<H2>Compiling the source</H2><DL>


<!-- --------------------------------- -->

<DT><A NAME="q65">Q65</A> <B>
I'm trying to compile WinVNC and the compiler complains about various
missing files!</B></DT>

<DD>You need to compile using the No_CORBA configuration,
or it will try to include various files which are part of our internal
version only. If you still get errors about vncControl.idl after doing this, blame Microsoft! It's a bug in the way Visual C++ 6 imports projects that were built under Visual C++ 5.  You don't need the IDL file, and it isn't included.  Just delete it from the project.
</DD>




<!-- --------------------------------- -->

<DT><A NAME="q66">Q66</A> <B>
I'm having trouble compiling VNC on my platform...</B></DT>

<DD>Have you checked the <a href="contribs.html">contribs</a>
page?  Several people have provided hints on how to build VNC on other
platforms.  If yours is not listed there, you might at least get some
clues..</DD>


</DL><HR>
</DL>




</td>



<td WIDTH="5%"></td>

</tr>



<tr>

<td bgcolor="#eecc80">&nbsp;</td><td ALIGN=CENTER VALIGN=TOP COLSPAN="4" WIDTH="100%">

<!-- Ruler here? -->

<center>

<p><i><font size=-1>For comments, feedback, etc, please see the '<a href="intouch.html">Keeping

in touch</a>' page</font>.</i>

<br><i><font size=-1>Copyright 1999 - AT&amp;T Laboratories Cambridge

</font></i></center>

</td>

</tr>

</table>



</body>

</html>

